"use strict";(self.webpackChunkarchihub=self.webpackChunkarchihub||[]).push([[7183],{41572:function(e,t,n){n.r(t);var r=n(5544),o=n(65043),s=n(73216),u=n(85211),i=n(26240),c=n(83003),a=n(91181),l=n(72378),h=n(76445),f=n(46020),d=n(29464),p=n(70579);t.default=function(){var e=(0,o.useState)(0),t=(0,r.A)(e,2),n=t[0],m=(t[1],(0,s.g)().slug),v=((0,i.A)(),(0,c.d4)((function(e){return e.user})),(0,c.d4)((function(e){return e.app.filters}))),A=(0,o.useState)(!0),w=(0,r.A)(A,2),j=(w[0],w[1]),g=(0,o.useState)(null),S=(0,r.A)(g,2),x=S[0],y=S[1],T=(0,o.useState)([]),E=(0,r.A)(T,2),F=(E[0],E[1]),P=(0,o.useState)(null),b=(0,r.A)(P,2),z=b[0],C=b[1],M=(0,o.useState)(null),H=(0,r.A)(M,2),k=H[0],L=H[1],G=(0,o.useState)(null),O=(0,r.A)(G,2),_=O[0],D=O[1],J=(0,o.useState)(null),U=(0,r.A)(J,2),B=U[0],K=U[1],N=(0,o.useState)(null),Z=(0,r.A)(N,2),q=Z[0],I=Z[1],Q=(0,o.useState)(null),R=(0,r.A)(Q,2),V=R[0],W=R[1],X=(0,o.useState)(!1),Y=(0,r.A)(X,2),$=Y[0],ee=Y[1],te=(0,c.wA)(),ne=(0,s.Zp)();return(0,o.useEffect)((function(){v[m]&&(v[m].post_type?y(v[m].post_type):y(null),v[m].parents?F(v[m].parents):F([]))}),[v]),(0,o.useEffect)((function(){m&&f.hE(m).then((function(e){if(j(!1),C(e.forms),L(e.types.sort((function(e,t){return e.count-t.count})).reverse()),D(e.files),K({name:e.name,icon:e.icon,description:e.description,slug:e.slug}),e.parent&&""!==e.parent){W(e.parent);var t=(0,u.e)(v,m,"root",{id:e.parent});te((0,u.vm)(t))}})).catch((function(e){console.log(e)}))}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.EL,{style:{width:"calc(100% - 30px)",margin:"0px 5px 5px",marginTop:0},children:(0,p.jsx)(a.A,{view:m,showFilters:$,setShowFilters:ee,total:q})}),(0,p.jsxs)(l.EL,{style:{width:"calc(100% - 30px)",margin:"0px 5px 5px",marginTop:0},children:[k&&_&&B&&z&&V&&!$&&(0,p.jsx)(h.A,{selectedTypes:k,selectedType:x||null,records:null,filters:v,editBtns:!1,handleClick:function(e){ne("/explore/".concat(m,"/detail/").concat(e.id))},view:m,scrollPosition:n,parentTotal:I,parent:{_id:V},mobile:!0},JSON.stringify(k)),$&&(0,p.jsx)(d.n,{forms:z,view:m})]})]})}},46020:function(e,t,n){n.d(t,{Jt:function(){return s},O8:function(){return l},UK:function(){return a},hE:function(){return u},lD:function(){return c},yo:function(){return i}});var r=n(88120),o=n(91280);function s(e){var t="/views/"+e,n={method:"GET",headers:new Headers({Authorization:(0,o.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function u(e){var t="/views/info/"+e,n={method:"GET",headers:new Headers({Authorization:(0,o.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function i(e,t){var n="/views/"+e,s={method:"PUT",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:t};return fetch(r.FM+n,s).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function c(e){var t="/views/"+e,n={method:"DELETE",headers:new Headers({Authorization:(0,o.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+t,n).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function a(){var e={method:"GET",headers:new Headers({Authorization:(0,o.g)()}),mode:"cors",cache:"default"};return fetch(r.FM+"/views",e).then((function(e){return 200!==e.status?Promise.reject(e):e.json()}))}function l(e){var t={method:"POST",headers:new Headers({Authorization:(0,o.g)(),"Content-Type":"application/json"}),mode:"cors",cache:"default",body:e};return fetch(r.FM+"/views",t).then((function(e){return 201!==e.status?Promise.reject(e):e.json()}))}},79484:function(e,t,n){var r=n(59662),o=n(70579);t.A=(0,r.A)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=7183.4d7aaf70.chunk.js.map